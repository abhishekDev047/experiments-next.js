import Head from 'next/head';
import Image from 'next/image';
import { getSortedPostsData }from "../../lib/posts";
import Link from 'next/link';
import Date from '@/components/date';

export async function getStaticProps() {
  const allPostsData = getSortedPostsData();
  return {
    props: {
      allPostsData,
    },
  };
};

export default function Home({allPostsData}) {
  return (
    <div className=' flex flex-col items-center justify-center'>
      <Head>
        <title>experiments Next.js</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
      </Head>
        <div className='text-lg  text-center '>
          hello sir i am working fine.
        </div>
        <div className='flex flex-row content-around'>
        <div> img tag<img src="/dimaria.jpeg" alt="Di Maria ji"  className='h-36 w-36'/></div>
        <div> image component <Image src={"/dimaria.jpeg"} height={144} width={144} alt="Your Name"
         className=''/> </div> 
        </div>

        <section className=''>
        <h2 className='text-2xl'>Blog</h2>
        <ul className='text-2xl'>
          {allPostsData.map(({ id, date, title }) => (
            <li className='text-2xl ' key={id}>
            <Link href={`/posts/${id}`} className='text-blue-500'>{title}</Link>
              <br />
              <small className='text-sm'>
    <Date dateString={date} />
  </small>
            </li>
          ))}
        </ul>
      </section>
    </div>
  )
};
